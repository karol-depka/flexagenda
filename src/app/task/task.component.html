<li [ngClass]="{completed: task.completed, 'task-animation': true}"
      (keyup.control.arrowup)="tasksListComponent.reorderTasks(task, isFirst, 'up')"
      (keyup.control.arrowdown)="tasksListComponent.reorderTasks(task, isLast, 'down')"
      (keyup.control.delete)="tasksListComponent.requestTaskDelete(task.$key, isFirst, isLast)">
    <button id="taskAddAbove" md-icon-button color="primary"
        (click)="tasksListComponent.addNewTask(task, isFirst)"
        title="Add task above"><md-icon>add</md-icon></button>
    <span class="badge">
    <!--order: {{task.order}}-->
    <md-checkbox id="taskComplete" color="primary" [checked]="task.completed"
            (change)="updateObject(task.$key, 'completed', !(task.completed), 'boolean')">
            {{taskIndex+1}}</md-checkbox></span>
    <span #start id="taskStart" class="start">{{tasksListComponent.tasksStartTimes ? tasksListComponent.tasksStartTimes[taskIndex] : null}}</span>
    <input #duration id="taskDuration" type="number" class="duration" size="3" min="1"
        value="{{task.duration}}"
        (change)="updateObject(task.$key, 'duration', duration.value, 'number')"
        (keyup)="updateObject(task.$key, 'duration', duration.value, 'number')"/>
    <!--<textarea #title id="taskTitle" type="text" class="title" rows="1" maxlength="60"-->
    <textarea #title id="taskTitle" type="text" class="title"
            placeholder="New title" value="{{task.title}}"
            (change)="updateObject(task.$key, 'title', title.value, 'string')"></textarea>
    <button id="taskDelete" md-icon-button color="primary" class="trash"
        (click)="tasksListComponent.requestTaskDelete(task.$key, isFirst, isLast)">
    <md-icon>delete</md-icon></button>
    <br />
    <button *ngIf="!isFirst" id="taskMoveUp" md-icon-button class="reorder"
        (click)="tasksListComponent.reorderTasks(task, isFirst, 'up')"><md-icon>keyboard_arrow_up</md-icon></button>
    <button *ngIf="!isLast" id="taskMoveDown" md-icon-button class="reorder"
        (click)="tasksListComponent.reorderTasks(task, isLast, 'down')"><md-icon>keyboard_arrow_down</md-icon></button>
    <textarea md-autosize #description id="taskDescription" type="text" class="description"
            placeholder="Description is missing" value="{{task.description}}"
            (change)="updateObject(task.$key, 'description', description.value, 'string')"></textarea>
</li>
